_______________________________________
***************************************
*****_DSBOARD-v2 Interface Tests_******
***********_with Jetson Nano_**********
***********_Production Module_*********
****BSP REV: l4t-32.4.3_JetPack4.4*****
***************************************
_______________________________________


***************************************	
______*****_GPIO MAP_*****_
______	
______		+--------------+------------------+------------+
______		| Job          |     Pin_Name     | sysfs name |
______		+--------------+------------------+------------+
______		| RS485_CTRL   |      GPIO06      |  gpio-64   |
______		+--------------+------------------+------------+
______		| Half/full    |    GPIO07(PWM)   |  gpio-168  |
______		+--------------+------------------+------------+
______		| RS485/RS232  | GPIO09(AUD_MCLK) |  gpio-216  |
______		+--------------+------------------+------------+
______		| Camera_mux   |    GPIO11(CLK)   |  gpio-200  |
______		+--------------+------------------+------------+
______		| DIGITAL_IN0  |    DIGITAL_IN0   |  gpio-504  |
______		+--------------+------------------+------------+
______		| DIGITAL_OUT0 |    DIGITAL_OUT0  |  gpio-508  |
______		+--------------+------------------+------------+
_______________________________________

***************************************	
______*****_CSI INTERFACE_*****_
______	
______Dual IMX219 Cam(rpcamv2) working.
______Test command for Cam-1:
______		gst-launch-1.0 nvarguscamerasrc sensor_mode=0 ! 'video/x-raw(memory:NVMM),width=3820, height=2464, framerate=21/1, format=NV12' ! nvvidconv flip-method=0 ! 'video/x-raw,width=960, height=616' ! nvvidconv ! nvegltransform ! nveglglessink -e
______Test command for Cam-2:
______		gst-launch-1.0 nvarguscamerasrc sensor_mode=1 ! 'video/x-raw(memory:NVMM),width=3820, height=2464, framerate=21/1, format=NV12' ! nvvidconv flip-method=0 ! 'video/x-raw,width=960, height=616' ! nvvidconv ! nvegltransform ! nveglglessink -e		
______		
_______________________________________

***************************************	
______*****_SDMMC INTERFACE_*****_
______		
______After BSP rev-1.4(https://github.com/MistEmreAnilTerzioglu/nano_l4t-32.4.3_JetPack4.4/commit/7261bfbec6a71bce18abad6a37a467b795930d2f) SdMMC Interface is working with most of the SDCards.
______For test scenario Ubuntu/DiskUtils/BenchmarkPartition used.
______Only 1 out of 7 SDCard failed to mount(Kingston SDHC class4). All other SDCards passed the test with good W/R speeds.
______Test Outputs:
______		+---------------+------------------+--------------------+------------------+----------+----------------+-------------------+
______		| Brand_onCard  | Card_type_onCard | Speed_Class_onCard | Timing_Spec_onOS | CLK_onOS | W/R Speed_onOS |    Error_Print    |
______		+---------------+------------------+--------------------+------------------+----------+----------------+-------------------+
______		| Sandisk Ultra |      SDXC-1      |         10         | 6(SD UHS SDR104) |  204MHz  |    R:80MB/s    |        None       |
______		|               |                  |                    |                  |          |    W:33MB/s    |                   |
______		+---------------+------------------+--------------------+------------------+----------+----------------+-------------------+
______		|    Sandisk    |      SDHC-1      |          4         |  7(SD UHS DDR50) |   50MHz  |    R:37MB/s    |        None       |
______		|               |                  |                    |                  |          |     W:4MB/s    |                   |
______		+---------------+------------------+--------------------+------------------+----------+----------------+-------------------+
______		|    SAMSUNG    |      SDHC-1      |       1(UHS)       | 6(SD UHS SDR104) |  204MHz  |    R:75MB/s    |        None       |
______		|               |                  |                    |                  |          |     W:8MB/s    |                   |
______		+---------------+------------------+--------------------+------------------+----------+----------------+-------------------+
______		|    TOSHIBA    |      SDHC-1      |       1(UHS)       | 6(SD UHS SDR104) |  204MHz  |    R:80MB/s    |        None       |
______		|               |                  |                    |                  |          |    W:25MB/s    |                   |
______		+---------------+------------------+--------------------+------------------+----------+----------------+-------------------+
______		|     Lexar     |       SDHC       |         10         | 2(SD High Speed) |   50MHz  |    R:37MB/s    |    Fallback to    |
______		|               |                  |                    |                  |          |     W:4MB/s    |  HS enumaration.  |
______		+---------------+------------------+--------------------+------------------+----------+----------------+-------------------+
______		|    Sandisk    |       SDHC       |         10         | 2(SD High Speed) |   50MHz  |    R:37MB/s    |    Fallback to    |
______		|               |                  |                    |                  |          |     W:4MB/s    |  HS enumaration.  |
______		+---------------+------------------+--------------------+------------------+----------+----------------+-------------------+
______		|   Kingstone   |       SDHC       |          4         |  4(SD UHS SDR25) |   50MHz  |    R:37MB/s    |  Kernel and Data  |
______		|               |                  |                    |                  |          |     W:4MB/s    | integrity errors. |
______		+---------------+------------------+--------------------+------------------+----------+----------------+-------------------+
______		
_______________________________________

***************************************
______*****_USB INTERFACE_*****_
______
______Interface working normally with good R/W speed.
______Test command for Write Speed :
______		sudo dd if=/dev/zero of=<USB_DISK's_MOUNTPATH>/test.txt bs=64M count=20 conv=fsync
______Test Output for Write Speed :
______		108 MB/s
______Test command for Read Speed :
______		sudo dd if=<USB_DISK's_MOUNTPATH>/test.txt of=/run/test.txt bs=64M conv=fsync
______Test Output for Read Speed :
______		454 MB/s
______
_______________________________________

***************************************
______*****_ETHERNET INTERFACE_*****_
______
______Interface working normally with Gbit speed.
______Linux Iperf program used for TCP/UDP tests.
______Test Command on server or HostPC
______		iperf3 -s
______Test Command on board for TCP Package.
______		iperf3 -c <HostIpAddr>
______Test Output for TCP Package
______		Bandwidth: 941Mbits/sec
______Test Command on board for UDP Package.
______		iperf3 -u -b 0 -c <HostIpAddr>
______Test Output for UDP Package
______		Bandwidth: 903Mbits/sec, Lost: %0 
______
_______________________________________

***************************************
______*****_RS232 INTERFACE_*****_
______
______Interface Working normally.
______PinOut Mapping:
______		+-------------------+-------------------+
______		| Protocol Pin Name | Hardware Pin Name |
______		+-------------------+-------------------+
______		|         Tx        |     T1OUT_B/Z     |
______		+-------------------+-------------------+
______		|         Rx        |       R2IN_A      |
______		+-------------------+-------------------+
______Commands for Rs232 PinMuxing
______		sudo echo 168 > /sys/class/gpio/export
______		sudo echo 216 > /sys/class/gpio/export
______		sudo echo out > /sys/class/gpio/gpio168/direction
______		sudo echo out > /sys/class/gpio/gpio216/direction
______		sudo echo 0 > /sys/class/gpio/gpio168/value
______		sudo echo 0 > /sys/class/gpio/gpio216/value
______Commands to open serial console for Interface Testing
______		sudo apt install gtkterm
______		sudo gtkterm -p /dev/ttyTHS1 -s 115200
______
_______________________________________

***************************************
______*****_RS422 INTERFACE_*****_
______
______Interface test is waiting...
______
_______________________________________

***************************************
______*****_RS485 INTERFACE_*****_
______
______Interface Working normally.
______PinOut Mapping:
______		+-------------------+-------------------+
______		| Protocol Pin Name | Hardware Pin Name |
______		+-------------------+-------------------+
______		|         D+        |     T2OUT_A/Y     |
______		+-------------------+-------------------+
______		|         D-        |     T1OUT_B/Z     |
______		+-------------------+-------------------+
______Commands for Rs485 PinMuxing
______		sudo echo 64 > /sys/class/gpio/export
______		sudo echo 168 > /sys/class/gpio/export
______		sudo echo 216 > /sys/class/gpio/export
______		sudo echo out > /sys/class/gpio/gpio64/direction
______		sudo echo out > /sys/class/gpio/gpio168/direction
______		sudo echo out > /sys/class/gpio/gpio216/direction
______		sudo echo 1 > /sys/class/gpio/gpio168/value
______		sudo echo 1 > /sys/class/gpio/gpio216/value
______		To Write Data
______			sudo echo 1 > /sys/class/gpio/gpio64/value
______		To Read Data
______			sudo echo 0 > /sys/class/gpio/gpio64/value
______Commands to open serial console for Interface Testing
______		sudo apt install gtkterm
______		sudo gtkterm -p /dev/ttyTHS1 -s 115200 -w RS485
______
_______________________________________

***************************************
______*****_DIGITAL IO INTERFACE_*****_
______
______Input working with PNP Sensor.
______Digital IN0 Test Commands:
______	sudo echo 504 > /sys/class/gpio/export
______	sudo echo in > /sys/class/gpio/gpio504/direction
______	sudo cat /sys/class/gpio/gpio504/value
______Digital OUT0 Test Commands:
______	sudo echo 508 > /sys/class/gpio/export
______	sudo echo out > /sys/class/gpio/gpio508/direction
______	To short Output
______		sudo echo 1 > /sys/class/gpio/gpio508/value
______	To open Output
______		sudo echo 0 > /sys/class/gpio/gpio508/value
______
_______________________________________
























